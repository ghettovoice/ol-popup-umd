{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 81480968f490128fa439","webpack:///./src/index.js","webpack:///./src/Popup.js","webpack:///./src/easing.js","webpack:///./src/util.js","webpack:///./src/popup.scss","webpack:///external {\"root\":\"ol\",\"amd\":\"openlayers\",\"commonjs\":\"openlayers\",\"commonjs2\":\"openlayers\"}"],"names":["util","easing","PopupOptions","PopupEventType","SHOW","HIDE","Popup","options","element","createDOMElement","autoPan","coalesce","autoPanAnimation","duration","easeInOutCubic","beforeShow_","beforeShow","noop","beforeHide_","beforeHide","content_","getElement","querySelector","closer_","eventListeners_","enableTouchScroll","content","emptyElement","isElement","appendChild","isString","insertAdjacentHTML","isArrayLike","toArray","forEach","elem","map","bindEvents_","bringToFront","unbindEvents_","container","parentNode","overlaysContainer","lastOverlay","querySelectorAll","pop","insertBefore","nextSibling","coordinate","style","display","visibility","setPosition","Promise","resolve","then","dispatchEvent","set","blur","listenEvent_","evt","preventDefault","hide","elemListener","eventName","Object","keys","unlistenEvent_","name","target","event","listener","addEventListener","removeEventListener","setContent","getContent","Overlay","createElement","closer","href","isTouchDevice","document","createEvent","e","elm","scrollStartPos","scrollTop","touches","pageY","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","t","isObject","arg1","arg2","args","slice","call","arguments","find","value","tagName","classes","attributes","classList","add","apply","split","setAttribute","attribute","nodeType","prototype","toString","length","hasChildNodes","removeChild","lastChild"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"openlayers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"openlayers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PopupOverlay\"] = factory(require(\"openlayers\"));\n\telse\n\t\troot[\"ol\"] = root[\"ol\"] || {}, root[\"ol\"][\"PopupOverlay\"] = factory(root[\"ol\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 81480968f490128fa439","/**\n * Popup overlay for OpenLayers 3 with UMD wrapper.\n * Fork of Matt Walker ol3-popup https://github.com/walkermatt/ol3-popup\n *\n * @author Vladimir Vershinin <ghettovoice@gmail.com>\n * @author Matt Walker (http://longwayaround.org.uk)\n * @author Avi Kelman <patcherton.fixesthings@gmail.com>\n * @licence MIT https://opensource.org/licenses/MIT\n * @copyright (c) 2016-2017 Matt Walker, Vladimir Vershinin\n */\nimport Popup from './Popup';\nimport './popup.scss';\n\nexport default Popup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import ol from \"openlayers\";\nimport * as util from \"./util\";\nimport * as easing from \"./easing\";\n\n/**\n * @typedef {Object} PopupOptions\n * @property {number | string | undefined} id Set the overlay id. The overlay id can be used with the `ol.Map#getOverlayById` method.\n * @property {number[] | undefined} offset Offsets in pixels used when positioning the overlay. The first element in the array is the horizontal offset.\n *                                         A positive value shifts the overlay right. The second element in the array is the vertical offset.\n *                                         A positive value shifts the overlay down. Default is `[0, 0]`.\n * @property {ol.Coordinate | undefined} position The overlay position in map projection.\n * @property {ol.Overlay.Positioning | string | undefined} positioning Defines how the overlay is actually positioned with respect to its position property.\n *                                                                      Possible values are `bottom-left`, `bottom-center`, `bottom-right`, `center-left`,\n *                                                                      `center-center`, `center-right`, `top-left`, `top-center`, and `top-right`.\n *                                                                      Default is `top-left`.\n * @property {boolean | undefined} stopEvent Whether event propagation to the map viewport should be stopped. Default is `true`.\n *                                           If true the overlay is placed in the same container as that of the controls (CSS class name `ol-overlaycontainer-stopevent`);\n *                                           if false it is placed in the container with CSS class name `ol-overlaycontainer`.\n * @property {boolean | undefined} insertFirst Whether the overlay is inserted first in the overlay container, or appended.\n *                                             Default is `true`. If the overlay is placed in the same container as that of the controls\n *                                             (see the `stopEvent` option) you will probably set `insertFirst` to true so the overlay is displayed below the controls.\n * @property {boolean | undefined} autoPan If set to `true` the map is panned when calling `setPosition`, so that the overlay is entirely visible in the current viewport.\n *                                         The default is `true`.\n * @property {olx.animation.PanOptions | undefined} autoPanAnimation The options used to create a `ol.animation.pan` animation.\n *                                                                   This animation is only used when `autoPan` is enabled.\n *                                                                   Default is `{ duration: 300, easing: easeInOutCubic }`.\n *                                                                   If set to `null` the panning is not animated.\n * @property {number | undefined} autoPanMargin The margin (in pixels) between the overlay and the borders of the map when autopanning. The default is `20`.\n * @property {Element | HTMLCollection | string | undefined} content Popup initial content.\n * @property {function | undefined} beforeShow Function that called before popup show. Can be used for show animation.\n * @property {function | undefined} beforeHide Function that called before popup hide. Can be used for hide animation.\n */\nvar PopupOptions;\n\n/**\n * @enum {string}\n * @private\n */\nconst PopupEventType = {\n    /**\n     * Triggered upon popup open.\n     * @event Popup#show\n     */\n    SHOW: \"show\",\n    /**\n     * Triggered upon popup close.\n     * @event Popup#hide\n     */\n    HIDE: \"hide\"\n};\n\n/**\n * Popup Overlay for OpenLayers.\n */\nexport default class Popup extends ol.Overlay {\n    /**\n     * @param {PopupOptions} [options] Popup options.\n     */\n    constructor(options = {}) {\n        const element = createDOMElement();\n\n        options.autoPan = util.coalesce(options.autoPan, true);\n        options.autoPanAnimation = util.coalesce(options.autoPanAnimation, {\n            duration: 300,\n            easing: easing.easeInOutCubic\n        });\n\n        super({\n            ...options,\n            element\n        });\n\n        /**\n         * @type {function}\n         * @private\n         */\n        this.beforeShow_ = util.coalesce(options.beforeShow, util.noop);\n        /**\n         * @type {function}\n         * @private\n         */\n        this.beforeHide_ = util.coalesce(options.beforeHide, util.noop);\n        /**\n         * @type {Element}\n         * @private\n         */\n        this.content_ = this.getElement().querySelector('.ol-popup-content');\n        /**\n         * @type {Element}\n         * @private\n         */\n        this.closer_ = this.getElement().querySelector('.ol-popup-closer');\n        /**\n         * @type {Object<string, Object>}\n         * @private\n         */\n        this.eventListeners_ = {};\n\n        enableTouchScroll(this.content_);\n\n        if (options.content) {\n            this.content = options.content;\n        }\n    }\n\n    //noinspection JSAnnotator\n    /**\n     * @type {HTMLCollection} Inner content of popup.\n     */\n    set content(content) {\n        this.setContent(content);\n    }\n\n    //noinspection JSUnusedGlobalSymbols\n    /**\n     * @type {Element} Inner content of popup.\n     */\n    get content() {\n        return this.getContent();\n    }\n\n    /**\n     * @param {Element | HTMLCollection | string} content Update popup inner content.\n     */\n    setContent(content) {\n        util.emptyElement(this.content_);\n\n        if (util.isElement(content)) {\n            this.content_.appendChild(content);\n        } else if (util.isString(content)) {\n            this.content_.insertAdjacentHTML('afterBegin', content);\n        } else if (util.isArrayLike(content)) {\n            util.toArray(content).forEach(elem => this.content_.appendChild(elem));\n        }\n    }\n\n    /**\n     * @returns {Element} Inner content of popup.\n     */\n    getContent() {\n        return this.content_;\n    }\n\n    //noinspection JSUnusedGlobalSymbols\n    /**\n     * @param {ol.Map} map OpenLayers map object.\n     */\n    setMap(map) {\n        super.setMap(map);\n\n        if (map) {\n            this.bindEvents_();\n            this.bringToFront();\n        } else {\n            this.unbindEvents_();\n        }\n    }\n\n    /**\n     * Show on top of other popups.\n     */\n    bringToFront() {\n        const container = this.getElement().parentNode;\n        const overlaysContainer = container.parentNode;\n        const lastOverlay = util.toArray(overlaysContainer.querySelectorAll(\".ol-overlay-container\")).pop();\n\n        if (lastOverlay && lastOverlay !== container) {\n            overlaysContainer.insertBefore(container, lastOverlay.nextSibling);\n        }\n    }\n\n    /**\n     * Shows popup.\n     *\n     * @param {ol.Coordinate} [coordinate] New popup position.\n     * @param {Element | HTMLCollection | string} [content] Replace inner content.\n     * @return {Promise} Returns Promise that resolves when showing completes.\n     * @fires Popup#show Show event.\n     */\n    show(coordinate, content) {\n        if (content) {\n            this.content = content;\n        }\n\n        const elem = this.getElement();\n        elem.style.display = \"block\";\n        elem.style.visibility = \"hidden\";\n\n        if (coordinate) {\n            this.setPosition(coordinate);\n        }\n\n        return Promise.resolve(this.beforeShow_(this))\n            .then(() => {\n                elem.style.visibility = \"visible\";\n                /**\n                 * Show event.\n                 *\n                 * @event Popup#show\n                 */\n                this.dispatchEvent(PopupEventType.SHOW);\n                this.set(\"visible\", true);\n            });\n    }\n\n    /**\n     * Hides popup.\n     *\n     * @return {Promise} Returns Promise that resolves when hiding completes.\n     * @fires Popup#hide Hide event.\n     */\n    hide() {\n        this.closer_.blur();\n\n        return Promise.resolve(this.beforeHide_(this))\n            .then(() => {\n                this.getElement().style.display = \"none\";\n                /**\n                 * Hide event.\n                 *\n                 * @event Popup#hide\n                 */\n                this.dispatchEvent(PopupEventType.HIDE);\n                this.set(\"visible\", false);\n            });\n    }\n\n    /**\n     * @private\n     */\n    bindEvents_() {\n        this.listenEvent_('closerclick', this.closer_, 'click', evt => {\n            evt.preventDefault();\n            this.hide();\n        });\n\n        const elemListener = ::this.bringToFront;\n        [\"click\", \"focus\"].forEach(eventName => this.listenEvent_('elem' + eventName, this.getElement(), eventName, elemListener));\n    }\n\n    /**\n     * @private\n     */\n    unbindEvents_() {\n        Object.keys(this.eventListeners_).forEach(::this.unlistenEvent_);\n    }\n\n    /**\n     * @param {string} name Unique name\n     * @param {Element} target\n     * @param {string} event\n     * @param {function} listener\n     * @private\n     */\n    listenEvent_(name, target, event, listener) {\n        if (this.eventListeners_[name]) {\n            this.unlistenEvent_(name);\n        }\n\n        target.addEventListener(event, listener);\n\n        this.eventListeners_[name] = {\n            target,\n            event,\n            listener\n        };\n    }\n\n    /**\n     * @param {string} name Unique name\n     * @private\n     */\n    unlistenEvent_(name) {\n        if (this.eventListeners_[name]) {\n            const { target, event, listener } = this.eventListeners_[name];\n\n            target.removeEventListener(event, listener);\n        }\n    }\n}\n\n/**\n * @return {Element}\n * @private\n */\nfunction createDOMElement() {\n    const element = util.createElement('div', 'ol-popup');\n    const closer = util.createElement('a', 'ol-popup-closer', {\n        href: '#'\n    });\n\n    element.appendChild(closer);\n\n    // append content container\n    const content = util.createElement('div', 'ol-popup-content');\n    element.appendChild(content);\n\n    return element;\n}\n\n/**\n * Determine if the current browser supports touch events. Adapted from\n * https://gist.github.com/chrismbarr/4107472\n * @private\n */\nfunction isTouchDevice() {\n    try {\n        document.createEvent(\"TouchEvent\");\n\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n/**\n * Apply workaround to enable scrolling of overflowing content within an\n * element. Adapted from https://gist.github.com/chrismbarr/4107472\n * @private\n */\nfunction enableTouchScroll(elm) {\n    if (isTouchDevice()) {\n        let scrollStartPos = 0;\n\n        elm.addEventListener(\"touchstart\", function (event) {\n            scrollStartPos = this.scrollTop + event.touches[0].pageY;\n        }, false);\n\n        elm.addEventListener(\"touchmove\", function (event) {\n            this.scrollTop = scrollStartPos - event.touches[0].pageY;\n        }, false);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Popup.js","/**\n * Easing functions pack\n */\n//noinspection JSUnusedGlobalSymbols\n/**\n * @param t\n * @return {number}\n */\nexport function easeInQuad(t) {\n    return t * t;\n}\n\n//noinspection JSUnusedGlobalSymbols\n/**\n * @param t\n * @return {number}\n */\nexport function easeOutQuad(t) {\n    return t * (2 - t);\n}\n\n//noinspection JSUnusedGlobalSymbols\n/**\n * @param t\n * @return {number}\n */\nexport function easeInOutQuad(t) {\n    return t < .5 ?\n           2 * t * t :\n           -1 + (4 - 2 * t) * t;\n}\n\n//noinspection JSUnusedGlobalSymbols\n/**\n * @param t\n * @return {number}\n */\nexport function easeInCubic(t) {\n    return t * t * t;\n}\n\n//noinspection JSUnusedGlobalSymbols\n/**\n * @param t\n * @return {number}\n */\nexport function easeOutCubic(t) {\n    return (--t) * t * t + 1;\n}\n\n/**\n * @param t\n * @return {number}\n */\nexport function easeInOutCubic(t) {\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing.js","/**\n * @param {*} arg1 Value to check.\n * @param {*} arg2 Value to check.\n * @param {...*} [args] Values to check.\n * @return {*} First argument that is not equal `undefined` or `null`\n */\nexport function coalesce(arg1, arg2, ...args) {\n    return [].slice.call(arguments).find(value => value != null);\n}\n\n/**\n * @param {*} value\n * @return {Array}\n */\nexport function toArray(value) {\n    return isArrayLike(value) ? [].slice.call(value) : [];\n}\n\n/**\n * @param {string} tagName\n * @param {string|string[]} [classes] CSS classes.\n * @param {Object} [attributes] Element attributes.\n * @returns {Element}\n */\nexport function createElement(tagName, classes, attributes) {\n    const elem = document.createElement(tagName);\n\n    if (classes) {\n        elem.classList.add.apply(elem.classList, typeof classes === 'string' ? classes.split(' ') : classes);\n    }\n\n    if (attributes) {\n        Object.keys(attributes).forEach(attribute => elem.setAttribute(attribute, attributes[attribute]));\n    }\n\n    return elem;\n}\n\n/**\n * Checks if `value` is likely a DOM element.\n *\n * @param {*} value\n * @return {boolean}\n * @link https://github.com/lodash/lodash/blob/4.13.1/lodash.js#L10755\n */\nexport function isElement(value) {\n    return !!value && isObject(value) && value.nodeType === 1;\n}\n\n/**\n * @param {*} value\n * @return {boolean}\n * @link https://github.com/lodash/lodash/blob/4.13.1/lodash.js#L11055\n */\nexport function isObject(value) {\n    return !!value && typeof value === 'object';\n}\n\n/**\n * Checks if `value` is likely a string.\n *\n * @param {*} value\n * @return {boolean}\n * @link https://github.com/lodash/lodash/blob/4.13.1/lodash.js#L11457\n */\nexport function isString(value) {\n    return value != null && (\n        typeof value === 'string' ||\n        isObject(value) && Object.prototype.toString.call(value) === '[object String]'\n    );\n}\n\n/**\n * Checks if `value` is Array like object.\n *\n * @param value\n * @returns {boolean}\n * @link https://github.com/lodash/lodash/blob/4.13.1/lodash.js#L10638\n */\nexport function isArrayLike(value) {\n    return !!value && typeof value.length === 'number';\n}\n\n/**\n * @param {Element} elem\n */\nexport function emptyElement(elem) {\n    while (elem.hasChildNodes()) {\n        elem.removeChild(elem.lastChild);\n    }\n}\n\n/**\n * Empty function\n *\n * @return void\n */\nexport function noop() { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/popup.scss\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ol\",\"amd\":\"openlayers\",\"commonjs\":\"openlayers\",\"commonjs2\":\"openlayers\"}\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}